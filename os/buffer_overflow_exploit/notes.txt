- stdbuf
  - A utility that changes a program buffers its standard 
      input or output streams.
  - Injects a shared library into the program that changes
      the buffering mode.
    - libstdbuf.so
    - LD_PRELOAD tells the linux dynamic linker to load a
        given shared library.
  - stdbuf runs the program using execvp().
  - Example:
    strace -e execve,openat stdbuf -oL ./tick 2>&1 | grep -E 'execve|libstdbuf'
    execve("/usr/bin/stdbuf", ["stdbuf", "-oL", "./tick"], 0xffffffd714c0 /* 23 vars */) = 0
    execve("./tick", ["./tick"], 0xaaab07cd7260 /* 25 vars */) = 0
    openat(AT_FDCWD, "/usr/libexec/coreutils/libstdbuf.so", O_RDONLY|O_CLOEXEC) = 3
  - ./tick > out & bash -c 'for i in {1..4}; do wc -l out; sleep 1; done'
  - stdbuf -oL ./tick > out & bash -c 'for i in {1..4}; do wc -l out; sleep 1; done'

- tty
  - teletype, refers a terminal or text based interface used
      to interact with the OS.

- gcc firewall.c -o a.out -fno-stack-protector -z execstack -no-pie
- socat, socket cat
  - sudo socat TCP-LISTEN:1337,nodelay,reuseaddr,fork EXEC:"stdbuf -i0 -o0 -e0 ./firewall"

- nc, netcat
  - nc localhost 1337

- Format String Vulnerability
  - By entering format characters and see if the output contains useful information.
  - Can to used to leak values/addresses from the stack, so we can defeat ASLR.
    - ASLR, address space layout randomization.

- ps aux | grep a.out
  - a, show processes for all users.
  - u, display process's user/owner.
  - x, show processes not attached to a terminal.
  - ps, by default only display current running processes.

- vagrant     4960  0.0  0.0   2776  1028 pts/3    S+   20:35   0:00 ./a.out
- sudo cat /proc/4960/maps
- sudo gdb -p 4960
  - sudo gdb -p $(pidof a.out)
- disassemble CAFtest
  -  0x00005636fd62c3e7 <+432>:   ret 
  - break *0x00005636fd62c3e7

- x/i $rip
  - => 0x40138b <CAFtest+391>:      ret 
- x/5gx $rsp
  - x/s $rsp

- http://youtube.com/watch?v=oS2O75H57qU
- https://www.youtube.com/watch?v=HPDBOhiKaD8
- https://www.youtube.com/watch?v=i5L9xEk_adw

    
